"use strict";(()=>{var e={};e.id=994,e.ids=[994,660,888],e.modules={9097:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{config:()=>h,default:()=>c,getServerSideProps:()=>x,getStaticPaths:()=>u,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>N,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>f});var a=t(7666),i=t(2323),l=t(431),o=t(908),d=t(3726),n=t(8856),p=e([o,d,n]);[o,d,n]=p.then?(await p)():p;let c=(0,l.l)(n,"default"),m=(0,l.l)(n,"getStaticProps"),u=(0,l.l)(n,"getStaticPaths"),x=(0,l.l)(n,"getServerSideProps"),h=(0,l.l)(n,"config"),g=(0,l.l)(n,"reportWebVitals"),f=(0,l.l)(n,"unstable_getStaticProps"),b=(0,l.l)(n,"unstable_getStaticPaths"),j=(0,l.l)(n,"unstable_getStaticParams"),v=(0,l.l)(n,"unstable_getServerProps"),w=(0,l.l)(n,"unstable_getServerSideProps"),N=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/user/update-profile",pathname:"/user/update-profile",bundlePath:"",filename:""},components:{App:d.default,Document:o.default},userland:n});s()}catch(e){s(e)}})},426:(e,r,t)=>{t.d(r,{Z:()=>image_uploader_Uploader});var s=t(997),a=t(6689),i=t(2167),l=t.n(i);let o=require("react-dropzone");var d=t(697);let image_uploader_Uploader=({setImageUrl:e,imageUrl:r})=>{let[t,i]=(0,a.useState)([]),{getRootProps:n,getInputProps:p}=(0,o.useDropzone)({accept:"image/*",multiple:!1,maxSize:1e5,onDrop:e=>{i(e.map(e=>Object.assign(e,{preview:URL.createObjectURL(e)})))}}),c=t.map(e=>s.jsx("div",{children:s.jsx("div",{children:s.jsx("img",{className:"inline-flex border-2 border-gray-100 w-24 max-h-24",src:e.preview,alt:e.name})})},e.name));return(0,a.useEffect)(()=>{t&&t.forEach(r=>{let t=new FormData;t.append("file",r),t.append("upload_preset","ekote6fk"),l()({url:"https://api.cloudinary.com/v1_1/dwujlnajx/image/upload",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t}).then(r=>{e(r.data.secure_url)}).catch(e=>console.log(e))})},[t]),(0,a.useEffect)(()=>()=>{t.forEach(e=>URL.revokeObjectURL(e.preview))},[t]),(0,s.jsxs)("div",{className:"w-full text-center",children:[(0,s.jsxs)("div",{className:"px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md cursor-pointer",...n(),children:[s.jsx("input",{...p()}),s.jsx("span",{className:"mx-auto flex justify-center",children:s.jsx(d.Re4,{className:"text-3xl text-emerald-500"})}),s.jsx("p",{className:"text-sm mt-2",children:"Drag your image here"}),s.jsx("em",{className:"text-xs text-gray-400",children:"(Only *.jpeg and *.png images will be accepted)"})]}),s.jsx("aside",{className:"flex flex-row flex-wrap mt-4",children:r?s.jsx("img",{className:"inline-flex border rounded-md border-gray-100 w-24 max-h-24 p-2",src:r,alt:"product"}):c})]})}},8856:(e,r,t)=>{t.a(e,async(e,s)=>{try{t.r(r),t.d(r,{default:()=>S});var a=t(997),i=t(608),l=t(5668),o=t.n(l),d=t(2145),n=t.n(d),p=t(9915),c=t(5641),m=t(6689),u=t(430),x=t(9361),h=t(9241),g=t(3091),f=t(2591),b=t(3687),j=t(426),v=t(7718),w=t(2068),N=t(4965),_=e([p,c,h,f,b,w,N]);[p,c,h,f,b,w,N]=_.then?(await _)():_;let UpdateProfile=()=>{let[e,r]=(0,m.useState)(""),[t,s]=(0,m.useState)(!1),{state:{userInfo:i}}=(0,m.useContext)(b.S),{storeCustomizationSetting:l}=(0,w.Z)(),{showingTranslateValue:o}=(0,N.Z)(),{register:d,handleSubmit:n,setValue:_,formState:{errors:q}}=(0,c.useForm)();return(0,m.useEffect)(()=>{if(p.default.get("userInfo")){let e=JSON.parse(p.default.get("userInfo"));_("name",e.name),_("email",e.email),_("address",e.address),_("phone",e.phone),r(e.image)}},[]),a.jsx(h.default,{title:o(l?.dashboard?.update_profile),description:"This is edit profile page",children:(0,a.jsxs)("div",{className:"max-w-screen-2xl",children:[a.jsx("div",{className:"md:grid md:grid-cols-3 md:gap-6",children:a.jsx("div",{className:"md:col-span-1",children:a.jsx("div",{className:"px-4 sm:px-0",children:a.jsx("h2",{className:"text-xl font-serif font-semibold mb-5",children:o(l?.dashboard?.update_profile)})})})}),a.jsx("form",{onSubmit:n(r=>{s(!0);let t={name:r.name,email:r.email,address:r.address,phone:r.phone,image:e};f.Z.updateCustomer(i._id,t).then(e=>{e&&(s(!1),(0,v.t5)("Profile Update Successfully!"),p.default.set("userInfo",JSON.stringify(e)),window.location.reload())}).catch(e=>{s(!1),(0,v.cB)(e?.response?.data?.message||e?.message)})}),children:(0,a.jsxs)("div",{className:"mt-5 md:mt-0 md:col-span-2",children:[a.jsx("div",{className:"bg-white space-y-6",children:(0,a.jsxs)("div",{children:[a.jsx(u.Z,{label:"Photo"}),a.jsx("div",{className:"mt-1 flex items-center",children:a.jsx(j.Z,{imageUrl:e,setImageUrl:r})})]})}),a.jsx("div",{className:"mt-10 sm:mt-0",children:a.jsx("div",{className:"md:grid-cols-6 md:gap-6",children:a.jsx("div",{className:"mt-5 md:mt-0 md:col-span-2",children:(0,a.jsxs)("div",{className:"lg:mt-6 mt-4 bg-white",children:[(0,a.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[a.jsx(g.Z,{register:d,label:o(l?.dashboard?.full_name),name:"name",type:"text",placeholder:o(l?.dashboard?.full_name)}),a.jsx(x.Z,{errorName:q.name})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[a.jsx(g.Z,{register:d,label:o(l?.dashboard?.address),name:"address",type:"text",placeholder:o(l?.dashboard?.address)}),a.jsx(x.Z,{errorName:q.address})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[a.jsx(g.Z,{register:d,label:o(l?.dashboard?.user_phone),name:"phone",type:"tel",placeholder:o(l?.dashboard?.user_phone)}),a.jsx(x.Z,{errorName:q.phone})]}),(0,a.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[a.jsx(g.Z,{register:d,label:o(l?.dashboard?.user_email),name:"email",type:"email",placeholder:o(l?.dashboard?.user_email)}),a.jsx(x.Z,{errorName:q.email})]})]}),a.jsx("div",{className:"col-span-6 sm:col-span-3 mt-5 text-right",children:t?(0,a.jsxs)("button",{disabled:t,type:"submit",className:"md:text-sm leading-5 inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-medium text-center justify-center border-0 border-transparent rounded-md placeholder-white focus-visible:outline-none focus:outline-none bg-[#e0015e] text-white px-5 md:px-6 lg:px-8 py-2 md:py-3 lg:py-3 hover:text-white hover:bg-emerald-600 h-12 mt-1 text-sm lg:text-sm w-full sm:w-auto",children:[a.jsx("img",{src:"/loader/spinner.gif",alt:"Loading",width:20,height:10}),a.jsx("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):a.jsx("button",{disabled:t,type:"submit",className:"md:text-sm leading-5 inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-medium text-center justify-center border-0 border-transparent rounded-md placeholder-white focus-visible:outline-none focus:outline-none bg-[#e0015e] text-white px-5 md:px-6 lg:px-8 py-2 md:py-3 lg:py-3 hover:text-white hover:bg-[#20b7dc] h-12 mt-1 text-sm lg:text-sm w-full sm:w-auto",children:o(l?.dashboard?.update_button)})})]})})})})]})})]})})},q=n()(()=>Promise.resolve(UpdateProfile),{ssr:!1}),S=o()(q,{...i,isLoader:!0,skipInitialProps:!1,loadLocaleFrom:(e,r)=>t(7655)(`./${e}/${r}`).then(e=>e.default)});s()}catch(e){s(e)}})},8768:e=>{e.exports=require("@heroicons/react/outline")},6999:e=>{e.exports=require("@react-oauth/google")},5184:e=>{e.exports=require("@reduxjs/toolkit")},4515:e=>{e.exports=require("@stripe/react-stripe-js")},943:e=>{e.exports=require("@stripe/stripe-js")},1725:e=>{e.exports=require("@tawk.to/tawk-messenger-react")},2167:e=>{e.exports=require("axios")},1635:e=>{e.exports=require("dayjs")},6641:e=>{e.exports=require("next-seo")},5668:e=>{e.exports=require("next-translate/appWithI18n")},7462:e=>{e.exports=require("next-translate/loadNamespaces")},866:e=>{e.exports=require("next-translate/useTranslation")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},5307:e=>{e.exports=require("rc-drawer")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},5131:e=>{e.exports=require("react-ga4")},9700:e=>{e.exports=require("react-paginate")},6022:e=>{e.exports=require("react-redux")},6158:e=>{e.exports=require("react-share")},2633:e=>{e.exports=require("react-spinners/ScaleLoader")},1187:e=>{e.exports=require("react-toastify")},9878:e=>{e.exports=require("react-use-cart")},997:e=>{e.exports=require("react/jsx-runtime")},4161:e=>{e.exports=require("redux-persist")},1127:e=>{e.exports=require("redux-persist/integration/react")},3094:e=>{e.exports=require("redux-persist/lib/storage/session")},2905:e=>{e.exports=import("html-react-parser")},9915:e=>{e.exports=import("js-cookie")},5641:e=>{e.exports=import("react-hook-form")},4275:e=>{e.exports=import("react-loading-skeleton")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[627,793,386,403,238,467,944,339,383,578,930,742,908,729,577,62,692,69,241],()=>__webpack_exec__(9097));module.exports=t})();