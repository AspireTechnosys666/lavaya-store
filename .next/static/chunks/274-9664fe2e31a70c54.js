"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[274],{259:function(e,t,l){var i=l(7168),n=l(2182);t.Z=e=>{var t,l,s,r;let{discount:a,product:o,slug:d,modal:c}=e,{getNumber:u}=(0,n.Z)(),x=u((null==o?void 0:o.isCombination)?null==o?void 0:null===(t=o.variants[0])||void 0===t?void 0:t.price:null==o?void 0:null===(l=o.prices)||void 0===l?void 0:l.price),m=u((null==o?void 0:o.isCombination)?null==o?void 0:null===(s=o.variants[0])||void 0===s?void 0:s.originalPrice:null==o?void 0:null===(r=o.prices)||void 0===r?void 0:r.originalPrice),v=u((m-x)/m*100);return(0,i.jsxs)(i.Fragment,{children:[a>1&&(0,i.jsxs)("span",{className:c?"absolute text-dark text-sm bg-orange-500 text-white py-1 px-2 rounded font-medium z-10 left-4 top-4":d?"text-dark text-sm bg-orange-500 text-white py-1 px-2 rounded font-medium z-10 left-0 top-4":"absolute text-dark text-xs bg-orange-500 text-white py-1 px-2 rounded font-medium z-10",children:[a,"% Off"]}),void 0===a&&v>1&&(0,i.jsxs)("span",{className:c?"absolute text-dark text-sm bg-orange-500 text-white py-1 px-2 rounded font-medium z-10 left-4 top-4":d?"text-dark text-sm bg-orange-500 text-white py-1 px-2 rounded font-medium z-10 left-0 top-4":"absolute text-dark text-xs bg-orange-500 text-white py-1 px-2 rounded font-medium z-10 right-0 top-0",children:[v," % Off"]})]})}},8386:function(e,t,l){var i=l(7168),n=l(2182);t.Z=e=>{var t;let{product:l,price:s,card:r,currency:a,originalPrice:o}=e,{getNumberTwo:d}=(0,n.Z)();return(0,i.jsx)("div",{className:"font-serif product-price font-bold",children:(null==l?void 0:l.isCombination)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:r?"inline-block text-lg font-semibold text-gray-800":"inline-block text-2xl",children:[a,d(s)]}),o>s?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("del",{className:r?"sm:text-sm font-normal text-base text-gray-400 ml-1":"text-lg font-normal text-gray-400 ml-1",children:[a,d(o)]})}):null]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:r?"inline-block text-lg font-semibold text-gray-800":"inline-block text-2xl",children:[a,d(null==l?void 0:null===(t=l.prices)||void 0===t?void 0:t.price)]}),o>s?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("del",{className:r?"sm:text-sm font-normal text-base text-gray-400 ml-1":"text-lg font-normal text-gray-400 ml-1",children:[a,d(o)]})}):null]})})}},1403:function(e,t,l){var i=l(7168),n=l(4382);t.Z=e=>{let{stock:t,card:l}=e,{t:s}=(0,n.Z)();return(0,i.jsx)(i.Fragment,{children:t<=0?(0,i.jsx)("span",{className:"bg-red-100 absolute z-10 text-red-700 rounded-full inline-flex items-center justify-center px-2 py-0 text-xs font-medium font-serif",children:s("common:stockOut")}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("span",{className:"".concat(l?"bg-gray-100 absolute z-10 text-[#e0015e] rounded-full text-xs px-2 py-0 font-medium":"bg-green-100 text-green-500 rounded-full inline-flex items-center justify-center px-2 py-0 text-xs font-semibold font-serif"),children:[s("common:stock")," :",(0,i.jsxs)("span",{className:"text-orange-700 pl-1 font-bold",children:[t," "]})]})})})}},3061:function(e,t,l){var i=l(7168);l(8381),t.Z=e=>{let{product:t}=e;return(0,i.jsx)(i.Fragment,{children:0!==t.tag.length&&(0,i.jsx)("div",{className:"flex flex-row",children:JSON.parse(null==t?void 0:t.tag).map((e,t)=>(0,i.jsx)("span",{className:"bg-gray-50 mr-2 border-0 text-gray-600 rounded-full inline-flex items-center justify-center px-3 py-1 text-xs font-semibold font-serif mt-2",children:e},t+1))})})}},274:function(e,t,l){l.d(t,{Z:function(){return z}});var i=l(7168),n=l(30),s=l.n(n),r=l(8114),a=l.n(r),o=l(8381),d=l(4423),c=l(7909),u=l(8386),x=l(1403),m=l(3463),v=l(9114),f=l(6286),p=l(259),h=l(2182),g=l(4382),j=l(7136),b=l.n(j),y=l(655),N=l(7957),k=l(3061),w=l(8833),C=l(251),_=l(7222),Z=l(642),modal_ProductModal=e=>{var t,l,n,s,r,d,c;let{modalOpen:f,setModalOpen:j,product:O,attributes:P,currency:S}=e,F=(0,y.useRouter)(),{setIsLoading:z,isLoading:B}=(0,o.useContext)(_.l),{t:M}=(0,g.Z)("ns1"),{handleAddItem:I,setItem:V,item:q}=(0,v.Z)(),{lang:A,showingTranslateValue:E,getNumber:T,getNumberTwo:D}=(0,h.Z)(),[H,K]=(0,o.useState)(""),[L,W]=(0,o.useState)(0),[X,J]=(0,o.useState)(""),[R,U]=(0,o.useState)(0),[$,G]=(0,o.useState)(0),[Q,Y]=(0,o.useState)(0),[ee,et]=(0,o.useState)({}),[el,ei]=(0,o.useState)({}),[en,es]=(0,o.useState)([]),[er,ea]=(0,o.useState)([]);(0,o.useEffect)(()=>{var e,t,l,i,n,s,r,a,o;if(H){let e=null==O?void 0:null===(t=O.variants)||void 0===t?void 0:t.filter(e=>Object.keys(el).every(t=>el[t]===e[t])),l=null==e?void 0:e.map(e=>{let{originalPrice:t,price:l,discount:i,quantity:n,barcode:s,sku:r,productId:a,image:o,...d}=e;return{...d}}),i=Object.keys(Object.assign({},...l)),n=null==i?void 0:i.reduce((e,t)=>({...e,[t]:ee[t]}),{}),s=Object.entries(n).reduce((e,t)=>{let[l,i]=t;return i&&(e[l]=i),e},{}),r=null==e?void 0:e.find(e=>Object.keys(s).every(t=>s[t]===e[t]));if(e.length<=0||void 0===r)return G(0);ea(e),et(r),ei(r),J(null==r?void 0:r.image),G(null==r?void 0:r.quantity);let a=T(null==r?void 0:r.price),o=T(null==r?void 0:r.originalPrice),d=T((o-a)/o*100);Y(T(d)),W(a),U(o)}else if((null==O?void 0:null===(e=O.variants)||void 0===e?void 0:e.length)>0){let e=null==O?void 0:null===(l=O.variants)||void 0===l?void 0:l.filter(e=>Object.keys(el).every(t=>el[t]===e[t]));ea(e),G(null===(i=O.variants[0])||void 0===i?void 0:i.quantity),et(O.variants[0]),ei(O.variants[0]),J(null===(n=O.variants[0])||void 0===n?void 0:n.image);let t=T(null===(s=O.variants[0])||void 0===s?void 0:s.price),a=T(null===(r=O.variants[0])||void 0===r?void 0:r.originalPrice),o=T((a-t)/a*100);Y(T(o)),W(t),U(a)}else{G(null==O?void 0:O.stock),J(null==O?void 0:O.image[0]);let e=T(null==O?void 0:null===(a=O.prices)||void 0===a?void 0:a.price),t=T(null==O?void 0:null===(o=O.prices)||void 0===o?void 0:o.originalPrice),l=T((t-e)/t*100);Y(T(l)),W(e),U(t)}},[null==O?void 0:null===(t=O.prices)||void 0===t?void 0:t.discount,null==O?void 0:null===(l=O.prices)||void 0===l?void 0:l.originalPrice,null==O?void 0:null===(n=O.prices)||void 0===n?void 0:n.price,null==O?void 0:O.stock,O.variants,el,ee,H]),(0,o.useEffect)(()=>{let e=Object.keys(Object.assign({},...null==O?void 0:O.variants)),t=null==P?void 0:P.filter(t=>e.includes(null==t?void 0:t._id));es(null==t?void 0:t.sort())},[er,P]);let handleAddToCart=e=>{if(1===e.variants.length&&e.variants[0].quantity<1||$<=0)return(0,m.cB)("Insufficient stock");if(null==O||!O.variants.map(e=>Object.entries(e).sort().toString()===Object.entries(ee).sort().toString()))return(0,m.cB)("Please select all variant first!");{let{variants:t,categories:l,description:i,...n}=O,s={...n,id:"".concat((null==e?void 0:e.variants.length)<=0?e._id:e._id+"-"+(null==en?void 0:en.map(e=>ee[e._id]).join("-"))),title:"".concat((null==e?void 0:e.variants.length)<=0?E(e.title):E(e.title)+"-"+(null==en?void 0:en.map(e=>{var t;return null===(t=e.variants)||void 0===t?void 0:t.find(t=>t._id===ee[e._id])}).map(e=>E(null==e?void 0:e.name)))),image:X,variant:ee||{},price:0===e.variants.length?T(e.prices.price):T(L),originalPrice:0===e.variants.length?T(e.prices.originalPrice):T(R)};I(s)}},handleMoreInfo=e=>{j(!1),F.push("/product/".concat(e)),z(!B),(0,Z.KX)("product","opened ".concat(e," product details"))},eo=null===(r=E(null==O?void 0:null===(d=O.category)||void 0===d?void 0:d.name))||void 0===r?void 0:null===(s=r.toLowerCase())||void 0===s?void 0:s.replace(/[^A-Z0-9]+/gi,"-");return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(w.Z,{modalOpen:f,setModalOpen:j,children:(0,i.jsx)("div",{className:"inline-block overflow-y-auto h-full align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row md:flex-row w-full max-w-4xl overflow-hidden",children:[(0,i.jsx)(b(),{href:"/product/".concat(O.slug),passHref:!0,children:(0,i.jsxs)("div",{onClick:()=>j(!1),className:"flex-shrink-0 flex items-center justify-center h-auto cursor-pointer",children:[(0,i.jsx)(p.Z,{product:O,discount:Q,modal:!0}),O.image[0]?(0,i.jsx)(a(),{src:X||O.image[0],width:420,height:420,alt:"product"}):(0,i.jsx)(a(),{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",width:420,height:420,alt:"product Image"})]})}),(0,i.jsxs)("div",{className:"w-full flex flex-col p-5 md:p-8 text-left",children:[(0,i.jsxs)("div",{className:"mb-2 md:mb-2.5 block -mt-1.5",children:[(0,i.jsx)(b(),{href:"/product/".concat(O.slug),passHref:!0,children:(0,i.jsx)("h1",{onClick:()=>j(!1),className:"text-heading text-lg md:text-xl lg:text-2xl font-semibold font-serif hover:text-black cursor-pointer",children:E(null==O?void 0:O.title)})}),(0,i.jsx)("div",{className:"".concat($<=0?"relative py-1 mb-2":"relative"),children:(0,i.jsx)(x.Z,{stock:$})})]}),(0,i.jsx)("p",{className:"text-sm leading-6 text-gray-500 md:leading-6",children:E(null==O?void 0:O.description)}),(0,i.jsx)("div",{className:"flex items-center my-4",children:(0,i.jsx)(u.Z,{product:O,price:L,currency:S,originalPrice:R})}),(0,i.jsx)("div",{className:"mb-1",children:null==en?void 0:en.map((e,t)=>(0,i.jsxs)("span",{children:[(0,i.jsxs)("h4",{className:"text-sm py-1 font-serif text-gray-700 font-bold",children:[E(null==e?void 0:e.name),":"]}),(0,i.jsx)("div",{className:"flex flex-row mb-3",children:(0,i.jsx)(C.Z,{att:e._id,lang:A,option:e.option,setValue:K,varTitle:en,variants:null==O?void 0:O.variants,setSelectVa:ei,selectVariant:ee,setSelectVariant:et})})]},e._id))}),(0,i.jsx)("div",{className:"flex items-center mt-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between space-s-3 sm:space-s-4 w-full",children:[(0,i.jsxs)("div",{className:"group flex items-center justify-between rounded-md overflow-hidden flex-shrink-0 border h-11 md:h-12 border-gray-300",children:[(0,i.jsx)("button",{onClick:()=>V(q-1),disabled:1===q,className:"flex items-center justify-center flex-shrink-0 h-full transition ease-in-out duration-300 focus:outline-none w-8 md:w-12 text-heading border-e border-gray-300 hover:text-gray-500",children:(0,i.jsx)("span",{className:"text-dark text-base",children:(0,i.jsx)(N.ego,{})})}),(0,i.jsx)("p",{className:"font-semibold flex items-center justify-center h-full  transition-colors duration-250 ease-in-out cursor-default flex-shrink-0 text-base text-heading w-8  md:w-20 xl:w-24",children:q}),(0,i.jsx)("button",{onClick:()=>V(q+1),disabled:O.quantity<q||O.quantity===q,className:"flex items-center justify-center h-full flex-shrink-0 transition ease-in-out duration-300 focus:outline-none w-8 md:w-12 text-heading border-s border-gray-300 hover:text-gray-500",children:(0,i.jsx)("span",{className:"text-dark text-base",children:(0,i.jsx)(N.OvN,{})})})]}),(0,i.jsx)("button",{onClick:()=>handleAddToCart(O),disabled:O.quantity<1,className:"text-sm leading-4 inline-flex items-center cursor-pointer transition ease-in-out duration-300 font-semibold font-serif text-center justify-center border-0 border-transparent rounded-md focus-visible:outline-none focus:outline-none text-white px-4 ml-4 md:px-6 lg:px-8 py-4 md:py-3.5 lg:py-4 hover:text-white bg-emerald-500 hover:bg-emerald-600 w-full h-12",children:M("common:addToCart")})]})}),(0,i.jsx)("div",{className:"flex items-center mt-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between space-s-3 sm:space-s-4 w-full",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"font-serif font-semibold py-1 text-sm d-block",children:[(0,i.jsxs)("span",{className:"text-gray-700",children:[M("common:category"),":"]})," ",(0,i.jsx)(b(),{href:"/search?category=".concat(eo,"&_id=").concat(null==O?void 0:null===(c=O.category)||void 0===c?void 0:c._id),children:(0,i.jsx)("button",{type:"button",className:"text-gray-600 font-serif font-medium underline ml-2 hover:text-teal-600",onClick:()=>z(!B),children:eo})})]}),(0,i.jsx)(k.Z,{product:O})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{onClick:()=>handleMoreInfo(O.slug),className:"font-sans font-medium text-sm text-orange-500",children:M("common:moreInfo")})})]})}),(0,i.jsx)("div",{className:"flex justify-end mt-2",children:(0,i.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600",children:["Call Us To Order By Mobile Number :"," ",(0,i.jsx)("span",{className:"text-emerald-700 font-semibold",children:"+0044235234"})," "]})})]})]})})})})};let{default:O}=l(8114),{useEffect:P,useState:S}=l(8381),F="https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png";var ImageWithFallBack=e=>{let{fallback:t=F,alt:l,src:n,...s}=e,[r,a]=S(null);return P(()=>{a(null)},[n]),(0,i.jsx)(O,{alt:l,onError:a,src:r?F:n,...s,fill:!0,style:{objectFit:"contain"},sizes:"100%",className:"object-contain transition duration-150 ease-linear transform group-hover:scale-105 p-2"})};let ProductCard=e=>{var t,l,n,s;let{product:r,attributes:g}=e,[j,b]=(0,o.useState)(!1),{items:y,addItem:N,updateItemQuantity:k,inCart:w}=(0,c.jD)(),{handleIncreaseQuantity:C}=(0,v.Z)(),{globalSetting:_}=(0,f.Z)(),{showingTranslateValue:O}=(0,h.Z)(),P=(null==_?void 0:_.default_currency)||"$",handleAddItem=e=>{var t,l;if(e.stock<1)return(0,m.cB)("Insufficient stock!");if((null==e?void 0:null===(t=e.variants)||void 0===t?void 0:t.length)>0){b(!j);return}let{slug:i,variants:n,categories:s,description:a,...o}=r,d={...o,title:O(null==e?void 0:e.title),id:e._id,variant:e.prices,price:e.prices.price,originalPrice:null===(l=r.prices)||void 0===l?void 0:l.originalPrice};N(d)},handleModalOpen=(e,t)=>{b(e)};return(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)(modal_ProductModal,{modalOpen:j,setModalOpen:b,product:r,currency:P,attributes:g}),(0,i.jsxs)("div",{className:"group box-border overflow-hidden flex rounded-md shadow-sm pe-0 flex-col items-center bg-white relative",children:[(0,i.jsxs)("div",{className:"w-full flex justify-between",children:[(0,i.jsx)(x.Z,{product:r,stock:r.stock,card:!0}),(0,i.jsx)(p.Z,{product:r})]}),(0,i.jsx)("div",{onClick:()=>{handleModalOpen(!j,r._id),(0,Z.KX)("product","opened ".concat(O(null==r?void 0:r.title)," product modal"))},className:"relative flex justify-center cursor-pointer pt-2 w-full h-44",children:(0,i.jsx)("div",{className:"relative w-full h-full p-2",children:r.image[0]?(0,i.jsx)(ImageWithFallBack,{src:r.image[0],alt:"product"}):(0,i.jsx)(a(),{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",fill:!0,style:{objectFit:"contain"},sizes:"100%",alt:"product",className:"object-contain transition duration-150 ease-linear transform group-hover:scale-105"})})}),(0,i.jsxs)("div",{className:"w-full px-3 lg:px-4 pb-4 overflow-hidden",children:[(0,i.jsxs)("div",{className:"relative mb-1",children:[(0,i.jsx)("span",{className:"text-gray-400 font-medium text-xs d-block mb-1",children:r.unit}),(0,i.jsx)("h2",{className:"text-heading truncate mb-0 block text-sm font-medium text-gray-600",children:(0,i.jsx)("span",{className:"line-clamp-2",children:O(null==r?void 0:r.title)})})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center text-heading text-sm sm:text-base space-s-2 md:text-base lg:text-xl",children:[(0,i.jsx)(u.Z,{card:!0,product:r,currency:P,price:(null==r?void 0:r.isCombination)?null==r?void 0:null===(t=r.variants[0])||void 0===t?void 0:t.price:null==r?void 0:null===(l=r.prices)||void 0===l?void 0:l.price,originalPrice:(null==r?void 0:r.isCombination)?null==r?void 0:null===(n=r.variants[0])||void 0===n?void 0:n.originalPrice:null==r?void 0:null===(s=r.prices)||void 0===s?void 0:s.originalPrice}),w(r._id)?(0,i.jsxs)("div",{children:[y.map(e=>e.id===r._id&&(0,i.jsxs)("div",{className:"h-9 w-auto flex flex-wrap items-center justify-evenly py-1 px-2 bg-emerald-500 text-white rounded",children:[(0,i.jsx)("button",{onClick:()=>k(e.id,e.quantity-1),children:(0,i.jsx)("span",{className:"text-dark text-base",children:(0,i.jsx)(d._kz,{})})}),(0,i.jsx)("p",{className:"text-sm text-dark px-1 font-serif font-semibold",children:e.quantity}),(0,i.jsx)("button",{onClick:()=>{var t;return(null==e?void 0:null===(t=e.variants)||void 0===t?void 0:t.length)>0?handleAddItem(e):C(e)},children:(0,i.jsx)("span",{className:"text-dark text-base",children:(0,i.jsx)(d.xcL,{})})})]},e.id))," "]}):(0,i.jsxs)("button",{onClick:()=>handleAddItem(r),"aria-label":"cart",className:"h-9 w-9 flex items-center justify-center border border-gray-200 rounded text-[#e0015e] hover:border-[#e0015e] hover:bg-[#e0015e] hover:text-white transition-all",children:[" ",(0,i.jsx)("span",{className:"text-xl",children:(0,i.jsx)(d.Crz,{})})," "]})]})]})]})]})};var z=s()(()=>Promise.resolve(ProductCard),{ssr:!1})},251:function(e,t,l){var i=l(7168),n=l(2182);t.Z=e=>{let{att:t,option:l,variants:s,setValue:r,varTitle:a,selectVariant:o,setSelectVariant:d,setSelectVa:c}=e,{showingTranslateValue:u}=(0,n.Z)(),handleChangeVariant=e=>{r(e),d({...o,[t]:e}),c({[t]:e})};return(0,i.jsx)(i.Fragment,{children:"Dropdown"===l?(0,i.jsxs)("select",{onChange:e=>handleChangeVariant(e.target.value),className:"focus:shadow-none w-1/2 px-2 py-1 form-select outline-none h-10 text-sm focus:outline-none block rounded-md bg-gray-100 border-transparent focus:bg-white border-emerald-600 focus:border-emerald-400 focus:ring focus:ring-emerald-200",name:"parent",children:[[...new Map(s.map(e=>[e[t],e].filter(Boolean))).values()].filter(Boolean).map((e,l)=>{var n;return(null===(n=Object)||void 0===n?void 0:n.values(o).includes(e[t]))&&a.map(n=>{var s;return null==n?void 0:null===(s=n.variants)||void 0===s?void 0:s.map(s=>(null==n?void 0:n._id)===t&&(null==s?void 0:s._id)===e[t]&&(0,i.jsx)("option",{value:o[t],defaultValue:o[t],hidden:!0,children:u(s.name)},l+1))})}),[...new Map(s.map(e=>[e[t],e].filter(Boolean))).values()].filter(Boolean).map((e,l)=>a.map(l=>{var n;return null==l?void 0:null===(n=l.variants)||void 0===n?void 0:n.map(n=>(null==l?void 0:l._id)===t&&(null==n?void 0:n._id)===e[t]&&(0,i.jsx)("option",{value:e[t],defaultValue:!0,children:u(n.name)},n._id))}))]}):(0,i.jsx)("div",{className:"grid lg:grid-cols-3 grid-cols-2",children:[...new Map(null==s?void 0:s.map(e=>[e[t],e].filter(Boolean))).values()].filter(Boolean).map((e,l)=>a.map(n=>{var s;return null==n?void 0:null===(s=n.variants)||void 0===s?void 0:s.map(s=>{var r;return(null==n?void 0:n._id)===t&&(null==s?void 0:s._id)===e[t]&&(0,i.jsx)("button",{onClick:l=>handleChangeVariant(e[t]),className:"".concat((null===(r=Object)||void 0===r?void 0:r.values(o).includes(e[t]))?"bg-emerald-500 text-white mr-2 border-0 rounded-full inline-flex items-center justify-center px-3 py-1 text-xs font-serif mt-2 focus:outline-none":"bg-gray-100 mr-2 border-0 text-gray-600 rounded-full inline-flex items-center justify-center px-3 py-1 text-xs font-serif mt-2 focus:outline-none"),children:u(s.name)},l+1)})}))})})}}}]);