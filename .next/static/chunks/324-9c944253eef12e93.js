"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{3240:function(e,s,t){var a=t(7168);t(8381);var l=t(6635),r=t.n(l);s.Z=e=>{var s;let{order:t,currency:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("td",{className:"px-5 py-3 leading-6 whitespace-nowrap",children:(0,a.jsx)("span",{className:"uppercase text-sm font-medium",children:null==t?void 0:null===(s=t._id)||void 0===s?void 0:s.substring(20,24)})}),(0,a.jsx)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm",children:r()(t.createdAt).format("MMMM D, YYYY")})}),(0,a.jsx)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm",children:t.paymentMethod})}),(0,a.jsxs)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap font-medium text-sm",children:["Delivered"===t.status&&(0,a.jsx)("span",{className:"text-emerald-500",children:t.status}),"Pending"===t.status&&(0,a.jsx)("span",{className:"text-orange-500",children:t.status}),"Cancel"===t.status&&(0,a.jsx)("span",{className:"text-red-500",children:t.status}),"Processing"===t.status&&(0,a.jsx)("span",{className:"text-indigo-500",children:t.status})]}),(0,a.jsx)("td",{className:"px-5 py-3 leading-6 text-center whitespace-nowrap",children:(0,a.jsxs)("span",{className:"text-sm font-bold",children:[l,parseFloat(null==t?void 0:t.total).toFixed(2)]})})]})}},2324:function(e,s,t){t.r(s),t.d(s,{default:function(){return _}});var a=t(7168),l=t(608),r=t(880),d=t(5166),n=t(30),i=t.n(n),o=t(7136),c=t.n(o),x=t(655),m=t(8381),u=t(4423),h=t(7957),p=t(2769),order_card_Card=e=>{let{title:s,Icon:t,quantity:l,className:r}=e;return(0,a.jsx)("div",{className:"flex h-full",children:(0,a.jsxs)("div",{className:"flex items-center border border-gray-200 w-full rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-center p-3 rounded-full h-12 w-12 text-xl text-center mr-4 ".concat(r),children:(0,a.jsx)(t,{})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"leading-none mb-2 text-base font-medium font-serif text-gray-700",children:s}),(0,a.jsx)("p",{className:"text-xl font-bold font-serif leading-none text-gray-800",children:l})]})]})})},g=t(9210),v=t(4302),f=t(2304),j=t(7222),b=t(5847),N=t(6286),y=t(2182);let Dashboard=e=>{var s,t,l,r,n,i,o,w,_,C;let{title:k,description:Z,children:D}=e,I=(0,x.useRouter)(),{dispatch:L,state:{userInfo:O}}=(0,m.useContext)(g.S),{isLoading:P,setIsLoading:S,currentPage:F}=(0,m.useContext)(j.l),{storeCustomizationSetting:M}=(0,N.Z)(),{showingTranslateValue:Y}=(0,y.Z)(),[q,E]=(0,m.useState)({}),[T,U]=(0,m.useState)(""),[B,R]=(0,m.useState)(!0);(0,m.useEffect)(()=>{v.Z.getOrderCustomer({page:F,limit:8}).then(e=>{E(e),R(!1)}).catch(e=>{R(!1),U(e.message)})},[F]),(0,m.useEffect)(()=>{S(!1),O||I.push("/")},[O]);let A=[{title:Y(null==M?void 0:null===(s=M.dashboard)||void 0===s?void 0:s.dashboard_title),href:"/user/dashboard",icon:h.aCJ},{title:Y(null==M?void 0:null===(t=M.dashboard)||void 0===t?void 0:t.my_order),href:"/user/my-orders",icon:h.SnF},{title:Y(null==M?void 0:null===(l=M.dashboard)||void 0===l?void 0:l.update_profile),href:"/user/update-profile",icon:h.nbt},{title:Y(null==M?void 0:null===(r=M.dashboard)||void 0===r?void 0:r.change_password),href:"/user/change-password",icon:h.NOg}];return(0,a.jsx)(a.Fragment,{children:P?(0,a.jsx)(b.Z,{loading:P}):(0,a.jsx)(p.Z,{title:k||"Dashboard",description:Z||"This is User Dashboard",children:(0,a.jsx)("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-10",children:(0,a.jsxs)("div",{className:"py-10 lg:py-12 flex flex-col lg:flex-row w-full",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-full lg:w-80 mr-7 lg:mr-10  xl:mr-10 ",children:(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-5 lg:p-8 rounded-md sticky top-32",children:[null==A?void 0:A.map(e=>(0,a.jsxs)("span",{className:"p-2 my-2 flex font-serif items-center rounded-md hover:bg-gray-50 w-full hover:text-[#e0015e]",children:[(0,a.jsx)(e.icon,{className:"flex-shrink-0 h-4 w-4","aria-hidden":"true"}),(0,a.jsx)(c(),{href:e.href,className:"inline-flex items-center justify-between ml-2 text-sm font-medium w-full hover:text-[#e0015e]",children:e.title})]},e.title)),(0,a.jsxs)("span",{className:"p-2 flex font-serif items-center rounded-md hover:bg-gray-50 w-full hover:text-[#e0015e]",children:[(0,a.jsx)("span",{className:"mr-2",children:(0,a.jsx)(u.Cv_,{})})," ",(0,a.jsx)("button",{onClick:()=>{L({type:"USER_LOGOUT"}),d.Z.remove("userInfo"),d.Z.remove("couponInfo"),I.push("/")},className:"inline-flex items-center justify-between text-sm font-medium w-full hover:text-[#e0015e]",children:Y(null==M?void 0:null===(n=M.navbar)||void 0===n?void 0:n.logout)})]})]})}),(0,a.jsxs)("div",{className:"w-full bg-white mt-4 lg:mt-0 p-4 sm:p-5 lg:p-8 rounded-md overflow-hidden",children:[!D&&(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-xl font-serif font-semibold mb-5",children:Y(null==M?void 0:null===(i=M.dashboard)||void 0===i?void 0:i.dashboard_title)}),(0,a.jsxs)("div",{className:"grid gap-4 mb-8 md:grid-cols-2 xl:grid-cols-4",children:[(0,a.jsx)(order_card_Card,{title:Y(null==M?void 0:null===(o=M.dashboard)||void 0===o?void 0:o.total_order),Icon:h.Qyq,quantity:null==q?void 0:q.totalDoc,className:"text-red-600  bg-red-200"}),(0,a.jsx)(order_card_Card,{title:Y(null==M?void 0:null===(w=M.dashboard)||void 0===w?void 0:w.pending_order),Icon:h.Bw1,quantity:null==q?void 0:q.pending,className:"text-orange-600 bg-orange-200"}),(0,a.jsx)(order_card_Card,{title:Y(null==M?void 0:null===(_=M.dashboard)||void 0===_?void 0:_.processing_order),Icon:h.C4B,quantity:null==q?void 0:q.processing,className:"text-indigo-600 bg-indigo-200"}),(0,a.jsx)(order_card_Card,{title:Y(null==M?void 0:null===(C=M.dashboard)||void 0===C?void 0:C.complete_order),Icon:h.UgA,quantity:null==q?void 0:q.delivered,className:"text-emerald-600 bg-emerald-200"})]}),(0,a.jsx)(f.default,{data:q,loading:B,error:T})]}),D]})]})})})})},w=i()(()=>Promise.resolve(Dashboard),{ssr:!1});var _=(0,r.Z)(w,{...l,isLoader:!0,skipInitialProps:!1,loadLocaleFrom:(e,s)=>t(242)("./".concat(e,"/").concat(s)).then(e=>e.default)})},2304:function(e,s,t){t.r(s),t.d(s,{__N_SSG:function(){return u}});var a=t(7168),l=t(8381),r=t(4423),d=t(8876),n=t.n(d),i=t(7222),o=t(5847),c=t(3240),x=t(6286),m=t(2182),u=!0;s.default=e=>{var s,t,d;let{data:u,loading:h,error:p}=e,{handleChangePage:g}=(0,l.useContext)(i.l),{storeCustomizationSetting:v}=(0,x.Z)(),{showingTranslateValue:f}=(0,m.Z)(),j=Math.ceil((null==u?void 0:u.totalDoc)/8);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"max-w-screen-2xl mx-auto",children:(0,a.jsx)("div",{className:"rounded-md font-serif",children:h?(0,a.jsx)(o.Z,{loading:h}):p?(0,a.jsx)("h2",{className:"text-xl text-center my-10 mx-auto w-11/12 text-red-400",children:p}):(null==u?void 0:null===(s=u.orders)||void 0===s?void 0:s.length)===0?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"flex justify-center my-30 pt-16 text-[#e0015e] font-semibold text-6xl",children:(0,a.jsx)(r.c77,{})}),(0,a.jsx)("h2",{className:"font-medium text-md my-4 text-gray-600",children:"You Have no order Yet!"})]}):(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h3",{className:"text-lg font-serif font-medium mb-5",children:f(null==v?void 0:null===(t=v.dashboard)||void 0===t?void 0:t.recent_order)}),(0,a.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,a.jsx)("div",{className:"align-middle inline-block border border-gray-100 rounded-md min-w-full pb-2 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"overflow-hidden border-b last:border-b-0 border-gray-100 rounded-md",children:[(0,a.jsxs)("table",{className:"table-auto min-w-full border border-gray-100 divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[(0,a.jsx)("th",{scope:"col",className:"text-left text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"OrderTime"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"Method"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"text-center text-xs font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider",children:"Total"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null==u?void 0:null===(d=u.orders)||void 0===d?void 0:d.map(e=>(0,a.jsx)("tr",{children:(0,a.jsx)(c.Z,{order:e})},e._id))})]}),(null==u?void 0:u.totalDoc)>10&&(0,a.jsx)("div",{className:"paginationOrder",children:(0,a.jsx)(n(),{breakLabel:"...",nextLabel:"Next",onPageChange:e=>g(e.selected+1),pageRangeDisplayed:3,pageCount:j,previousLabel:"Previous",renderOnZeroPageCount:null,pageClassName:"page--item",pageLinkClassName:"page--link",previousClassName:"page-item",previousLinkClassName:"page-previous-link",nextClassName:"page-item",nextLinkClassName:"page-next-link",breakClassName:"page--item",breakLinkClassName:"page--link",containerClassName:"pagination",activeClassName:"activePagination"})})]})})})]})})})})}},4302:function(e,s,t){var a=t(3049);s.Z={addOrder:async(e,s)=>a.Z.post("/order/add",e,s),createPaymentIntent:async e=>a.Z.post("/order/create-payment-intent",e),getOrderCustomer:async e=>{let{page:s=1,limit:t=8}=e;return a.Z.get("/order?limit=".concat(t,"&page=").concat(s))},getOrderById:async(e,s)=>a.Z.get("/order/".concat(e),s)}}}]);