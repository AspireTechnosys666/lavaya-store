(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[441],{840:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order/[id]",function(){return l(7858)}])},7858:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return S},default:function(){return _}});var s=l(7168),n=l(2992),i=l(30),r=l.n(i),o=l(655),a=l(8381),d=l(4423),c=l(2648),x=l.n(c),m=l(2769),f=l(6286),h=l(6635),p=l.n(h),g=l(7136),u=l.n(g),b=l(8114),v=l.n(b),j=l(2182),order_OrderTable=e=>{var t;let{data:l,currency:n}=e,{getNumberTwo:i}=(0,j.Z)();return(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-100 text-serif text-sm",children:null==l?void 0:null===(t=l.cart)||void 0===t?void 0:t.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("th",{className:"px-6 py-1 whitespace-nowrap font-normal text-gray-500 text-left",children:[t+1," "]}),(0,s.jsx)("td",{className:"px-6 py-1 whitespace-nowrap font-normal text-gray-500",children:e.title}),(0,s.jsxs)("td",{className:"px-6 py-1 whitespace-nowrap font-bold text-center",children:[e.quantity," "]}),(0,s.jsxs)("td",{className:"px-6 py-1 whitespace-nowrap font-bold text-center font-DejaVu",children:[n,i(e.price)]}),(0,s.jsxs)("td",{className:"px-6 py-1 whitespace-nowrap text-right font-bold font-DejaVu k-grid text-red-500",children:[n,i(e.itemTotal)]})]},t))})},invoice_Invoice=e=>{var t,l,n,i;let{data:r,printRef:o,globalSetting:a,currency:d}=e,{getNumberTwo:c}=(0,j.Z)();return(0,s.jsxs)("div",{ref:o,children:[(0,s.jsxs)("div",{className:"bg-indigo-50 p-8 rounded-t-xl",children:[(0,s.jsxs)("div",{className:"flex lg:flex-row md:flex-row flex-col lg:items-center justify-between pb-4 border-b border-gray-50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-bold font-serif text-2xl uppercase",children:"Invoice"}),(0,s.jsxs)("h6",{className:"text-gray-700",children:["Status :"," ","Delivered"===r.status&&(0,s.jsx)("span",{className:"text-emerald-500",children:r.status}),"POS-Completed"===r.status&&(0,s.jsx)("span",{className:"text-emerald-500",children:r.status}),"Pending"===r.status&&(0,s.jsx)("span",{className:"text-orange-500",children:r.status}),"Cancel"===r.status&&(0,s.jsx)("span",{className:"text-red-500",children:r.status}),"Processing"===r.status&&(0,s.jsx)("span",{className:"text-indigo-500",children:r.status}),"Deleted"===r.status&&(0,s.jsx)("span",{className:"text-red-700",children:r.status})]})]}),(0,s.jsxs)("div",{className:"lg:text-right text-left",children:[(0,s.jsx)("h2",{className:"text-lg font-serif font-semibold mt-4 lg:mt-0 md:mt-0",children:(0,s.jsx)(u(),{href:"/",children:(0,s.jsx)(v(),{width:110,height:40,src:"/logo/logo-color.svg",alt:"logo"})})}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:(null==a?void 0:a.address)||"Cecilia Chapman, 561-4535 Nulla LA, <br /> United States 96522"})]})]}),(0,s.jsxs)("div",{className:"flex lg:flex-row md:flex-row flex-col justify-between pt-4",children:[(0,s.jsxs)("div",{className:"mb-3 md:mb-0 lg:mb-0 flex flex-col",children:[(0,s.jsx)("span",{className:"font-bold font-serif text-sm uppercase text-gray-600 block",children:"Date"}),(0,s.jsx)("span",{className:"text-sm text-gray-500 block",children:void 0!==r.createdAt&&(0,s.jsx)("span",{children:p()(null==r?void 0:r.createdAt).format("MMMM D, YYYY")})})]}),(0,s.jsxs)("div",{className:"mb-3 md:mb-0 lg:mb-0 flex flex-col",children:[(0,s.jsx)("span",{className:"font-bold font-serif text-sm uppercase text-gray-600 block",children:"Invoice No."}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 block",children:["#",null==r?void 0:r.invoice]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:text-right text-left",children:[(0,s.jsx)("span",{className:"font-bold font-serif text-sm uppercase text-gray-600 block",children:"Invoice To."}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 block",children:[null==r?void 0:null===(t=r.user_info)||void 0===t?void 0:t.name," ",(0,s.jsx)("br",{}),null==r?void 0:null===(l=r.user_info)||void 0===l?void 0:l.email," ",(0,s.jsx)("span",{className:"ml-2",children:null==r?void 0:null===(n=r.user_info)||void 0===n?void 0:n.contact}),(0,s.jsx)("br",{}),null==r?void 0:null===(i=r.user_info)||void 0===i?void 0:i.address,(0,s.jsx)("br",{}),null==r?void 0:r.city," ",null==r?void 0:r.country," ",null==r?void 0:r.zipCode]})]})]})]}),(0,s.jsx)("div",{className:"s",children:(0,s.jsx)("div",{className:"overflow-hidden lg:overflow-visible px-8 my-10",children:(0,s.jsx)("div",{className:"-my-2 overflow-x-auto",children:(0,s.jsxs)("table",{className:"table-auto min-w-full border border-gray-100 divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{className:"text-xs bg-gray-100",children:[(0,s.jsx)("th",{scope:"col",className:"font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider text-left",children:"Sr."}),(0,s.jsx)("th",{scope:"col",className:"font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider text-left",children:"Product Name"}),(0,s.jsx)("th",{scope:"col",className:"font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider text-center",children:"Quantity"}),(0,s.jsx)("th",{scope:"col",className:"font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider text-center",children:"Item Price"}),(0,s.jsx)("th",{scope:"col",className:"font-serif font-semibold px-6 py-2 text-gray-700 uppercase tracking-wider text-right",children:"Amount"})]})}),(0,s.jsx)(order_OrderTable,{data:r,currency:d})]})})})}),(0,s.jsx)("div",{className:"border-t border-b border-gray-100 p-10 bg-emerald-50",children:(0,s.jsxs)("div",{className:"flex lg:flex-row md:flex-row flex-col justify-between pt-4",children:[(0,s.jsxs)("div",{className:"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap",children:[(0,s.jsx)("span",{className:"mb-1 font-bold font-serif text-sm uppercase text-gray-600 block",children:"Payment Method"}),(0,s.jsx)("span",{className:"text-sm text-gray-500 font-semibold font-serif block",children:null==r?void 0:r.paymentMethod})]}),(0,s.jsxs)("div",{className:"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap",children:[(0,s.jsx)("span",{className:"mb-1 font-bold font-serif text-sm uppercase text-gray-600 block",children:"Shipping Cost"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 font-semibold font-serif block",children:[d,c(r.shippingCost)]})]}),(0,s.jsxs)("div",{className:"mb-3 md:mb-0 lg:mb-0  flex flex-col sm:flex-wrap",children:[(0,s.jsx)("span",{className:"mb-1 font-bold font-serif text-sm uppercase text-gray-600 block",children:"Discount"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 font-semibold font-serif block",children:[d,c(r.discount)]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-wrap",children:[(0,s.jsx)("span",{className:"mb-1 font-bold font-serif text-sm uppercase text-gray-600 block",children:"Total Amount"}),(0,s.jsxs)("span",{className:"text-2xl font-serif font-bold text-red-500 block",children:[d,c(r.total)]})]})]})})]})},y=l(5847),N=l(9210),w=l(4302);n.Zx.register({family:"Open Sans",fonts:[{src:"https://cdn.jsdelivr.net/npm/open-sans-all@0.1.3/fonts/open-sans-regular.ttf"},{src:"https://cdn.jsdelivr.net/npm/open-sans-all@0.1.3/fonts/open-sans-600.ttf",fontWeight:600}]}),n.Zx.register({family:"DejaVu Sans",fonts:[{src:"https://kendo.cdn.telerik.com/2017.2.621/styles/fonts/DejaVu/DejaVuSans.ttf"},{src:"https://kendo.cdn.telerik.com/2017.2.621/styles/fonts/DejaVu/DejaVuSans-Bold.ttf"}]});let C=n.mM.create({page:{marginRight:10,marginBottom:20,marginLeft:10,paddingTop:30,paddingLeft:10,paddingRight:29,lineHeight:1.5},table:{display:"table",width:"auto",color:"#4b5563",marginRight:10,marginBottom:20,marginLeft:10,marginTop:0,borderRadius:"8px",borderColor:"#e9e9e9",borderStyle:"solid",borderWidth:.5,padding:0,textAlign:"left"},tableRow:{flexDirection:"row",paddingBottom:2,paddingTop:2,textAlign:"left",borderWidth:.8,borderColor:"#E5E7EB",borderBottom:"0"},tableRowHeder:{flexDirection:"row",backgroundColor:"#f9fafb",paddingBottom:4,paddingTop:4,paddingLeft:0,borderBottomWidth:.8,borderColor:"#E5E7EB",borderStyle:"solid",textTransform:"uppercase",textAlign:"left"},tableCol:{width:"25%",textAlign:"left"},tableCell:{margin:"auto",marginTop:5,fontSize:10,paddingLeft:"0",paddingRight:"0",marginLeft:"13",marginRight:"13"},tableCellQuantity:{margin:"auto",marginTop:5,fontSize:10,textAlign:"center",paddingLeft:"0",paddingRight:"0",marginLeft:"12",marginRight:"12"},invoiceFirst:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingBottom:18,paddingLeft:10,paddingRight:10,borderBottom:1,borderColor:"#f3f4f6"},invoiceSecond:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",paddingTop:20,paddingBottom:10,paddingLeft:10,paddingRight:10},invoiceThird:{display:"flex",flexDirection:"row",alignItems:"baseline",justifyContent:"space-between",paddingTop:20,paddingBottom:20,paddingLeft:10,paddingRight:10,borderTop:1,borderColor:"#ffffff",backgroundColor:"#f4f5f7",borderRadius:12,marginLeft:"13",marginRight:"13"},logo:{width:64,height:25,bottom:5,right:10,marginBottom:10,textAlign:"right",color:"#4b5563",fontFamily:"Open Sans",fontWeight:"bold",fontSize:10.3,marginRight:"39%",textTransform:"uppercase"},title:{color:"#2f3032",fontFamily:"Open Sans",fontWeight:"bold",fontSize:8.1,textTransform:"uppercase"},info:{fontSize:9,color:"#6b7280"},infoCost:{fontSize:10,color:"#6b7280",marginLeft:"4%",marginTop:"7px",textAlign:"left",width:"25%"},invoiceNum:{fontSize:9,color:"#6b7280",marginLeft:"6%"},topAddress:{fontSize:10,color:"#6b7280",width:"100%"},amount:{fontSize:10,color:"#ef4444"},totalAmount:{fontSize:10,color:"#ef4444",fontFamily:"Open Sans",fontWeight:"bold",textTransform:"uppercase",textAlign:"right"},status:{color:"#10b981"},quantity:{color:"#1f2937",textAlign:"center"},itemPrice:{color:"#1f2937",textAlign:"left"},header:{color:"#6b7280",fontSize:9,fontFamily:"Open Sans",fontWeight:"bold",textTransform:"uppercase",textAlign:"left"},thanks:{color:"#22c55e"},infoRight:{textAlign:"right",fontSize:9,color:"#6b7280",width:"25%",marginRight:"39%",fontFamily:"Open Sans",fontWeight:"bold"},titleRight:{textAlign:"right",fontFamily:"Open Sans",fontWeight:"bold",fontSize:8.1,width:"25%",marginRight:"39%",textTransform:"uppercase",color:"#2f3032"},topBg:{},invoiceDiv:{alignItems:"baseline"}});var invoice_InvoiceForDownload=e=>{var t,l,i,r,o,a,d;let{data:c,currency:x,globalSetting:m,getNumberTwo:f}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(n.BB,{children:(0,s.jsxs)(n.T3,{size:"A4",style:C.page,children:[(0,s.jsxs)(n.G7,{style:C.invoiceFirst,children:[(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:{fontFamily:"Open Sans",fontWeight:"bold"},children:"INVOICE"}),(0,s.jsxs)(n.xv,{style:C.info,children:["Status : ",null==c?void 0:c.status]})]}),(0,s.jsxs)(n.G7,{style:C.topBg,children:[(0,s.jsx)(n.xv,{style:{width:"100%",marginRight:"40%"},children:(0,s.jsx)(n.Ee,{src:"https://res.cloudinary.com/ahossain/image/upload/v1681454665/logo/logo-color_qw1trc.png",alt:"Invoice",style:{width:80,textAlign:"right"}})}),(0,s.jsx)(n.xv,{style:C.topAddress,children:(null==m?void 0:m.address)||"Cecilia Chapman, 561-4535 Nulla LA, United States 96522"})]})]}),(0,s.jsxs)(n.G7,{style:C.invoiceSecond,children:[(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:"DATE"}),(0,s.jsx)(n.xv,{style:C.info,children:p()(null==c?void 0:c.createdAt).format("MMMM D, YYYY")})]}),(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:"INVOICE NO"}),(0,s.jsxs)(n.xv,{style:C.info,children:["#",null==c?void 0:c.invoice]})]}),(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:"INVOICE TO"}),(0,s.jsx)(n.xv,{style:C.info,children:null==c?void 0:null===(t=c.user_info)||void 0===t?void 0:t.name}),(0,s.jsxs)(n.xv,{style:C.info,children:[" ",null==c?void 0:null===(i=c.user_info)||void 0===i?void 0:null===(l=i.address)||void 0===l?void 0:l.substring(0,25)]}),(0,s.jsxs)(n.xv,{style:C.info,children:[null==c?void 0:null===(r=c.user_info)||void 0===r?void 0:r.city,", ",null==c?void 0:null===(o=c.user_info)||void 0===o?void 0:o.country,","," ",null==c?void 0:null===(a=c.user_info)||void 0===a?void 0:a.zipCode]})]})]}),(0,s.jsxs)(n.G7,{style:C.table,children:[(0,s.jsxs)(n.G7,{style:C.tableRow,children:[(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsx)(n.xv,{style:C.tableCell,children:(0,s.jsx)(n.xv,{style:C.header,children:"Sr."})})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsx)(n.xv,{style:C.tableCell,children:(0,s.jsx)(n.xv,{style:C.header,children:"Product Name"})})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsx)(n.xv,{style:C.tableCell,children:(0,s.jsx)(n.xv,{style:C.header,children:"Quantity"})})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsx)(n.xv,{style:C.tableCell,children:(0,s.jsx)(n.xv,{style:C.header,children:"Item Price"})})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsxs)(n.xv,{style:C.tableCell,children:[" ",(0,s.jsx)(n.xv,{style:C.header,children:"Amount"})]})})]}),null==c?void 0:null===(d=c.cart)||void 0===d?void 0:d.map((e,t)=>(0,s.jsxs)(n.G7,{style:C.tableRow,children:[(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsxs)(n.xv,{style:C.tableCell,children:[t+1," "]})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsxs)(n.xv,{style:C.tableCell,children:[e.title," "]})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsxs)(n.xv,{style:C.tableCell,children:[" ",(0,s.jsx)(n.xv,{style:C.quantity,children:e.quantity})," "]})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsxs)(n.xv,{style:C.tableCell,children:[" ",(0,s.jsxs)(n.xv,{style:C.quantity,children:[x,f(e.price)]})," "]})}),(0,s.jsx)(n.G7,{style:C.tableCol,children:(0,s.jsxs)(n.xv,{style:C.tableCell,children:[(0,s.jsxs)(n.xv,{style:C.amount,children:[x,f(e.itemTotal)]})," "]})})]},t))]}),(0,s.jsxs)(n.G7,{style:C.invoiceThird,children:[(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:" Payment Method"}),(0,s.jsxs)(n.xv,{style:C.info,children:[" ",c.paymentMethod," "]})]}),(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:"Shipping Cost"}),(0,s.jsxs)(n.xv,{style:C.info,children:[x,f(c.shippingCost)]})]}),(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:"Discount"}),(0,s.jsxs)(n.xv,{style:C.info,children:[" ",x,f(c.discount)]})]}),(0,s.jsxs)(n.G7,{children:[(0,s.jsx)(n.xv,{style:C.title,children:"Total Amount"}),(0,s.jsxs)(n.xv,{style:C.amount,children:[x,f(c.total)]})]})]}),(0,s.jsx)(n.G7,{style:{textAlign:"center",fontSize:12,paddingBottom:50,paddingTop:50},children:(0,s.jsxs)(n.xv,{children:["Thank you ",(0,s.jsxs)(n.xv,{style:C.thanks,children:[c.name,","]})," Your order have been received !"]})})]})})})};let Order=e=>{var t,l,i;let{params:r}=e,c=(0,a.useRef)(),h=r.id,p=(0,o.useRouter)(),[g,u]=(0,a.useState)({}),[b,v]=(0,a.useState)(!0),{state:{userInfo:C}}=(0,a.useContext)(N.S),{showingTranslateValue:S,getNumberTwo:_,currency:T}=(0,j.Z)(),{storeCustomizationSetting:k,globalSetting:A}=(0,f.Z)();return(0,a.useEffect)(()=>{(async()=>{try{let e=await w.Z.getOrderById(h);u(e),v(!1)}catch(e){v(!1),console.log("err",e.message)}})(),C||p.push("/")},[]),(0,s.jsx)(m.Z,{title:"Invoice",description:"order confirmation page",children:b&&!g?(0,s.jsx)(y.Z,{loading:b}):(0,s.jsxs)("div",{className:"max-w-screen-2xl mx-auto py-10 px-3 sm:px-6",children:[(0,s.jsx)("div",{className:"bg-emerald-100 rounded-md mb-5 px-4 py-3",children:(0,s.jsxs)("label",{children:[S(null==k?void 0:null===(t=k.dashboard)||void 0===t?void 0:t.invoice_message_first)," ",(0,s.jsxs)("span",{className:"font-bold text-emerald-600",children:[null==g?void 0:null===(l=g.user_info)||void 0===l?void 0:l.name,","]})," ",S(null==k?void 0:null===(i=k.dashboard)||void 0===i?void 0:i.invoice_message_last)]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,s.jsx)(invoice_Invoice,{data:g,printRef:c,currency:T,globalSetting:A}),(0,s.jsx)("div",{className:"bg-white p-8 rounded-b-xl",children:(0,s.jsxs)("div",{className:"flex lg:flex-row md:flex-row sm:flex-row flex-col justify-between invoice-btn",children:[(0,s.jsx)(n.WD,{document:(0,s.jsx)(invoice_InvoiceForDownload,{data:g,currency:T,globalSetting:A,getNumberTwo:_}),fileName:"Invoice",children:e=>{var t;let{blob:l,url:n,loading:i,error:r}=e;return i?"Loading...":(0,s.jsxs)("button",{className:"mb-3 sm:mb-0 md:mb-0 lg:mb-0 flex items-center justify-center bg-emerald-500  text-white transition-all font-serif text-sm font-semibold h-10 py-2 px-5 rounded-md",children:[S(null==k?void 0:null===(t=k.dashboard)||void 0===t?void 0:t.download_button)," ",(0,s.jsx)("span",{className:"ml-2 text-base",children:(0,s.jsx)(d.P9U,{})})]})}}),(0,s.jsx)(x(),{trigger:()=>{var e;return(0,s.jsxs)("button",{className:"mb-3 sm:mb-0 md:mb-0 lg:mb-0 flex items-center justify-center bg-emerald-500  text-white transition-all font-serif text-sm font-semibold h-10 py-2 px-5 rounded-md",children:[S(null==k?void 0:null===(e=k.dashboard)||void 0===e?void 0:e.print_button)," ",(0,s.jsx)("span",{className:"ml-2",children:(0,s.jsx)(d.U10,{})})]})},content:()=>c.current,documentTitle:"Invoice"})]})})]})]})})};var S=!0,_=r()(()=>Promise.resolve(Order),{ssr:!1})},4302:function(e,t,l){"use strict";var s=l(3049);t.Z={addOrder:async(e,t)=>s.Z.post("/order/add",e,t),createPaymentIntent:async e=>s.Z.post("/order/create-payment-intent",e),getOrderCustomer:async e=>{let{page:t=1,limit:l=8}=e;return s.Z.get("/order?limit=".concat(l,"&page=").concat(t))},getOrderById:async(e,t)=>s.Z.get("/order/".concat(e),t)}},2480:function(){}},function(e){e.O(0,[260,609,111,999,445,186,519,351,929,679,157,921,769,774,888,179],function(){return e(e.s=840)}),_N_E=e.O()}]);