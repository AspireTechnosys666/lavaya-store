(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[757],{4264:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/forget-password/[token]",function(){return r(9225)}])},1424:function(e,s,r){"use strict";var t=r(7168);r(8381),s.Z=e=>{let{errorName:s}=e;return(0,t.jsx)(t.Fragment,{children:s&&(0,t.jsx)("span",{className:"text-red-400 text-sm mt-2",children:s.message})})}},1305:function(e,s,r){"use strict";var t=r(7168);r(8381);var o=r(7098);s.Z=e=>{let{name:s,label:r,type:a,Icon:n,register:i,defaultValue:c,autocomplete:d,placeholder:l}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Z,{label:r}),(0,t.jsxs)("div",{className:"relative",children:[n&&(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsxs)("span",{className:"text-gray-800 focus-within:text-gray-900 sm:text-base",children:[(0,t.jsx)(n,{})," "]})}),(0,t.jsx)("input",{...i("".concat(s),{required:"".concat(r," is required!")}),type:a,name:s,defaultValue:c,placeholder:l,autoComplete:d,className:n?"py-2 pl-10 w-full appearance-none border text-sm opacity-75 text-input rounded-md placeholder-body min-h-12 transition duration-200 focus:ring-0 ease-in-out bg-white border-gray-200 focus:outline-none focus:border-emerald-500 h-11 md:h-12":"py-2 px-4 md:px-5 w-full appearance-none border text-sm opacity-75 text-input rounded-md placeholder-body min-h-12 transition duration-200 focus:ring-0 ease-in-out bg-white border-gray-200 focus:outline-none focus:border-emerald-500 h-11 md:h-12"})]})]})}},7098:function(e,s,r){"use strict";var t=r(7168);r(8381),s.Z=e=>{let{label:s}=e;return(0,t.jsx)("label",{className:"block text-gray-500 font-medium text-sm leading-none mb-2",children:s})}},9225:function(e,s,r){"use strict";r.r(s),r.d(s,{__N_SSP:function(){return x}});var t=r(7168),o=r(655),a=r(8381),n=r(5166),i=r(6250),c=r(7957),d=r(582),l=r(1424),u=r(1305),m=r(4997),p=r(9210),g=r(3463),x=!0;s.default=()=>{let[e,s]=(0,a.useState)(!1),[r,x]=(0,a.useState)(!1),{dispatch:f}=(0,a.useContext)(p.S),h=(0,o.useRouter)(),w=(0,a.useRef)(""),{register:y,handleSubmit:b,watch:j,setValue:v,formState:{errors:N}}=(0,i.cI)();return w.current=j("newPassword"),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Ix,{}),(0,t.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow max-w-md w-full space-y-8 py-12 px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold font-serif",children:r?"Login":"Forget Password"}),(0,t.jsx)("p",{className:"text-sm md:text-base text-gray-500 mt-2 mb-8 sm:mb-10",children:r?"Login with your email and new password":"Reset Your Password"})]}),(0,t.jsx)("form",{onSubmit:b(e=>{let{registerEmail:r,password:t,newPassword:o}=e;if(s(!0),o){var a;m.Z.resetPassword({newPassword:o,token:null===(a=h.query)||void 0===a?void 0:a.token}).then(e=>{s(!1),x(!0),(0,g.t5)(e.message),v("newPassword")}).catch(e=>{s(!1),(0,g.cB)(e?e.response.data.message:e.message)})}r&&t&&m.Z.customerLogin({registerEmail:r,password:t}).then(e=>{s(!1),h.push("/"),(0,g.t5)("Login Success!"),f({type:"USER_LOGIN",payload:e}),n.Z.set("userInfo",JSON.stringify(e))}).catch(e=>{s(!1),(0,g.cB)(e?e.response.data.message:e.message)})}),className:"flex flex-col justify-center",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-5",children:[r&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)(u.Z,{register:y,label:"Email",name:"registerEmail",type:"email",placeholder:"Email",Icon:c.Imn}),(0,t.jsx)(l.Z,{errorName:N.registerEmail})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)(u.Z,{register:y,label:"Password",name:"password",type:"password",autocomplete:"new-password",placeholder:"Password",Icon:c.UIZ}),(0,t.jsx)(l.Z,{errorName:N.password})]})]}),!r&&(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("input",{name:"newPassword",type:"password",placeholder:"New password",...y("newPassword",{required:"You must specify a password",minLength:{value:8,message:"Password must have at least 8 characters"}}),className:"py-2 px-4 md:px-5 w-full appearance-none border text-sm opacity-75 text-input rounded-md placeholder-body min-h-12 transition duration-200 focus:ring-0 ease-in-out bg-gray-100 border-gray-200 focus:outline-none focus:border-emerald-500 h-11 md:h-12"}),(0,t.jsx)(l.Z,{errorName:N.newPassword})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("input",{name:"confirm_password",type:"password",placeholder:"Confirm password",...y("confirm_password",{validate:e=>e===w.current||"The passwords do not match"}),className:"py-2 px-4 md:px-5 w-full appearance-none border text-sm opacity-75 text-input rounded-md placeholder-body min-h-12 transition duration-200 focus:ring-0 ease-in-out bg-gray-100 border-gray-200 focus:outline-none focus:border-emerald-500 h-11 md:h-12"}),(0,t.jsx)(l.Z,{errorName:N.confirm_password})]})]}),(0,t.jsx)("button",{disabled:e,type:"submit",className:"w-full text-center py-3 rounded bg-emerald-500 font-medium text-sm text-white hover:bg-emerald-600 transition-all focus:outline-none my-1",children:r?"Login":"Reset Password"})]})})]})})]})}},4997:function(e,s,r){"use strict";var t=r(3049);s.Z={customerLogin:async e=>t.Z.post("/customer/login",e),verifyEmailAddress:async e=>t.Z.post("/customer/verify-email",e),registerCustomer:async(e,s)=>t.Z.post("/customer/register/".concat(e),s),signUpWithProvider:(e,s)=>t.Z.post("/customer/signup/".concat(e),s),forgetPassword:async e=>t.Z.put("/customer/forget-password",e),resetPassword:async e=>t.Z.put("/customer/reset-password",e),changePassword:async e=>t.Z.post("/customer/change-password",e),updateCustomer:async(e,s)=>t.Z.put("/customer/".concat(e),s)}},3463:function(e,s,r){"use strict";r.d(s,{cB:function(){return notifyError},t5:function(){return notifySuccess}}),r(7168);var t=r(582);r(7967);let notifySuccess=e=>t.Am.success(e,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),notifyError=e=>t.Am.error(e,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});t.Ix}},function(e){e.O(0,[519,351,774,888,179],function(){return e(e.s=4264)}),_N_E=e.O()}]);