(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{2774:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(2448)}])},2448:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return y},default:function(){return search}});var l=s(7168),i=s(8381),r=s(8114),n=s.n(r),a=s(4382),o=s(2769),d=s(655),hooks_useFilter=e=>{let[t,s]=(0,i.useState)([]),[l,r]=(0,i.useState)([]),[n,a]=(0,i.useState)([]),[o,c]=(0,i.useState)(""),u=(0,d.useRouter)(),x=(0,i.useMemo)(()=>{let t=e;if("/user/dashboard"===u.pathname){let e=null==t?void 0:t.filter(e=>"Pending"===e.status);s(e);let l=null==t?void 0:t.filter(e=>"Processing"===e.status);r(l);let i=null==t?void 0:t.filter(e=>"Delivered"===e.status);a(i)}return"Low"===o&&(t=null==t?void 0:t.sort((e,t)=>e.prices.price<t.prices.price&&-1)),"High"===o&&(t=null==t?void 0:t.sort((e,t)=>e.prices.price>t.prices.price&&-1)),t},[o,e]);return{productData:x,pending:t,processing:l,delivered:n,setSortedField:c}},c=s(7136),u=s.n(c),x=s(6238),cta_card_Card=()=>(0,l.jsx)(l.Fragment,{children:x.sW.map(e=>(0,l.jsx)("div",{className:"mx-auto w-full relative rounded-lg overflow-hidden transition ease-out duration-400 delay-150 transform hover:shadow-xl",children:(0,l.jsxs)(u(),{href:e.url,className:"block",children:[(0,l.jsx)(n(),{width:550,height:234,src:e.image,alt:e.title,priority:!0,className:"object-cover"}),(0,l.jsx)("div",{className:"absolute top-0 left-0 z-10 p-r-16 flex-col flex w-full text-center justify-center",children:(0,l.jsxs)("div",{className:"pt-4",children:[(0,l.jsxs)("h2",{className:"font-serif text-base sm:text-lg md:text-lg lg:text-lg font-semibold text-gray-100",children:[e.title," ",(0,l.jsx)("br",{}),(0,l.jsx)("span",{className:"text-lg sm:text-2xl md:text-2xl lg:text-2xl font-bold text-white",children:e.subTitle})]}),(0,l.jsx)("p",{className:"text-sm font-sans text-gray-50",children:"Weekend discount offer"}),(0,l.jsx)("button",{className:"hidden sm:block lg:block text-xs mx-auto leading-6 font-serif font-medium mt-4 px-4 py-1 bg-[#e0015e] text-center rounded-full text-white hover:bg-[#1ab8d9]",children:"Shop Now"})]})})]})},e.id))}),m=s(274),h=s(4423),g=s(5625);s(2261),s(9831),s(6735);var p=s(3183),f=s(2913),v=s(7222),j=s(8807),w=s(2182),N=i.memo(()=>{var e,t;let s=(0,d.useRouter)(),r=(0,i.useRef)(null),a=(0,i.useRef)(null),{showingTranslateValue:o}=(0,w.Z)(),{isLoading:c,setIsLoading:u}=(0,i.useContext)(v.l),{data:x,error:m}=(0,f.Z)(()=>j.Z.getShowingCategory()),handleCategoryClick=(e,t)=>{var l;let i=null===(l=o(t))||void 0===l?void 0:l.toLowerCase().replace(/[^A-Z0-9]+/gi,"-");s.push("/search?category=".concat(i,"&_id=").concat(e)),u(!c)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(p.tq,{onInit:e=>{e.params.navigation.prevEl=r.current,e.params.navigation.nextEl=a.current,e.navigation.init(),e.navigation.update()},spaceBetween:8,navigation:!0,allowTouchMove:!1,loop:!0,breakpoints:{375:{width:375,slidesPerView:2},414:{width:414,slidesPerView:3},660:{width:660,slidesPerView:4},768:{width:768,slidesPerView:6},991:{width:991,slidesPerView:8},1140:{width:1140,slidesPerView:9},1680:{width:1680,slidesPerView:10},1920:{width:1920,slidesPerView:10}},modules:[g.W_],className:"mySwiper category-slider my-10",children:[m?(0,l.jsx)("p",{className:"flex justify-center align-middle items-center m-auto text-xl text-red-500",children:(0,l.jsxs)("span",{children:[" ",m]})}):(0,l.jsx)("div",{children:null===(t=x[0])||void 0===t?void 0:null===(e=t.children)||void 0===e?void 0:e.map((e,t)=>(0,l.jsx)(p.o5,{className:"group",children:(0,l.jsxs)("div",{onClick:()=>handleCategoryClick(null==e?void 0:e._id,e.name),className:"text-center cursor-pointer p-3 bg-white rounded-lg",children:[(0,l.jsx)("div",{className:"bg-white p-2 mx-auto w-10 h-10 rounded-full shadow-md",children:(null==e?void 0:e.icon)?(0,l.jsx)(n(),{src:null==e?void 0:e.icon,alt:"category",width:"35",height:"35"}):(0,l.jsx)(n(),{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"category",width:"35",height:"35"})}),(0,l.jsx)("h3",{className:"text-xs text-gray-600 mt-2 font-serif group-hover:text-[#e0015e]",children:o(null==e?void 0:e.name)})]})},t+1))}),(0,l.jsx)("button",{ref:r,className:"prev",children:(0,l.jsx)(h.$Ku,{})}),(0,l.jsx)("button",{ref:a,className:"next",children:(0,l.jsx)(h.mzm,{})})]})})}),b=s(5847),y=!0,search=e=>{let{products:t,attributes:s}=e,{t:r}=(0,a.Z)(),{isLoading:d,setIsLoading:c}=(0,i.useContext)(v.l),[u,x]=(0,i.useState)(18);(0,i.useEffect)(()=>{c(!1)},[t]);let{setSortedField:h,productData:g}=hooks_useFilter(t);return(0,l.jsx)(o.Z,{title:"Search",description:"This is search page",children:(0,l.jsx)("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-10",children:(0,l.jsx)("div",{className:"flex py-10 lg:py-12",children:(0,l.jsx)("div",{className:"flex w-full",children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"w-full grid grid-col gap-4 grid-cols-1 2xl:gap-6 xl:grid-cols-3 lg:grid-cols-3 md:grid-cols-2",children:(0,l.jsx)(cta_card_Card,{})}),(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(N,{})}),(null==g?void 0:g.length)===0?(0,l.jsxs)("div",{className:"text-center align-middle mx-auto p-5 my-5",children:[(0,l.jsx)(n(),{className:"my-4",src:"/no-result.svg",alt:"no-result",width:400,height:380}),(0,l.jsxs)("h2",{className:"text-lg md:text-xl lg:text-2xl xl:text-2xl text-center mt-2 font-medium font-serif text-gray-600",children:[r("common:sorryText")," \uD83D\uDE1E"]})]}):(0,l.jsxs)("div",{className:"flex justify-between my-3 bg-orange-100 border border-gray-100 rounded p-3",children:[(0,l.jsxs)("h6",{className:"text-sm font-serif",children:[r("common:totalI")," ",(0,l.jsx)("span",{className:"font-bold",children:null==g?void 0:g.length})," ",r("common:itemsFound")]}),(0,l.jsx)("span",{className:"text-sm font-serif",children:(0,l.jsxs)("select",{onChange:e=>h(e.target.value),className:"py-0 text-sm font-serif font-medium block w-full rounded border-0 bg-white pr-10 cursor-pointer focus:ring-0",children:[(0,l.jsx)("option",{className:"px-3",value:"All",defaultValue:!0,hidden:!0,children:r("common:sortByPrice")}),(0,l.jsx)("option",{className:"px-3",value:"Low",children:r("common:lowToHigh")}),(0,l.jsx)("option",{className:"px-3",value:"High",children:r("common:highToLow")})]})})]}),d?(0,l.jsx)(b.Z,{loading:d}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-6 gap-2 md:gap-3 lg:gap-3",children:null==g?void 0:g.slice(0,u).map((e,t)=>(0,l.jsx)(m.Z,{product:e,attributes:s},t+1))}),(null==g?void 0:g.length)>u&&(0,l.jsx)("button",{onClick:()=>x(e=>e+10),className:"w-auto mx-auto md:text-sm leading-5 flex items-center transition ease-in-out duration-300 font-medium text-center justify-center border-0 border-transparent rounded-md focus-visible:outline-none focus:outline-none bg-indigo-100 text-gray-700 px-5 md:px-6 lg:px-8 py-2 md:py-3 lg:py-3 hover:text-white hover:bg-[#e0015e] h-12 mt-6 text-sm lg:text-sm",children:r("common:loadMoreBtn")})]})]})})})})})}}},function(e){e.O(0,[260,609,519,351,929,679,318,921,769,274,774,888,179],function(){return e(e.s=2774)}),_N_E=e.O()}]);